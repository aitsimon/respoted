import{ap as F,m as e,ac as E,aq as c}from"./index.1c897ed3.js";const G=F("fetchService",()=>{let v=e(!1),n=E(),d=e([]),y=e([]),k=e([]),m=e([]),p=e([]),o=e(!0),l=e({}),w=e({}),h=e(""),f=e([]),g=e([]),_=e([]),U=["track","artist","album","playlist","show"];async function P(t=0,a=20){let s=new URLSearchParams({token:n.access_token||JSON.parse(sessionStorage.getItem("tokens")).access_token,limit:a,offset:t});return await(await fetch(c.SERVER_URL+"user-playlists",{method:"POST",body:s})).json()}async function L(){let t=new URLSearchParams({token:n.access_token||JSON.parse(sessionStorage.getItem("tokens")).access_token});return await(await fetch(c.SERVER_URL+"user-avaible-devices",{method:"POST",body:t})).json()}async function O(t){let a=new URLSearchParams({device_ids:t,token:n.access_token||JSON.parse(sessionStorage.getItem("tokens")).access_token});return await(await fetch(c.SERVER_URL+"transfer-playback",{method:"POST",body:a})).json()}async function R(t,a,s="10"){o.value=!0;let r=new URLSearchParams({type:t,time_range:a,limit:s,token:n.access_token||JSON.parse(sessionStorage.getItem("tokens")).access_token});const i=await(await fetch(c.SERVER_URL+"user-top-content",{method:"POST",body:r})).json();return o.value=!1,i}async function T(){o.value=!0;let t=new URLSearchParams({token:n.access_token||JSON.parse(sessionStorage.getItem("tokens")).access_token});const s=await(await fetch(c.SERVER_URL+"user-profile",{method:"POST",body:t})).json();return o.value=!1,s}async function I(t,a=U.join(),s="ES",r="20",u="0"){o.value=!0;let i=new URLSearchParams({query:t,type:a,market:s,limit:r,offset:u,token:n.access_token||JSON.parse(sessionStorage.getItem("tokens")).access_token});const S=await(await fetch(c.SERVER_URL+"search-item",{method:"POST",body:i})).json();l.value={},o.value=!1;for(const C in S)l.value[C]=S.key;return l.value=S,S}async function b(t=20){let a=new URLSearchParams({limit:t,token:n.access_token||JSON.parse(sessionStorage.getItem("tokens")).access_token});return await(await fetch(c.SERVER_URL+"get-recently-played-tracks",{method:"POST",body:a})).json()}async function j(){let t=new URLSearchParams({token:n.access_token||JSON.parse(sessionStorage.getItem("tokens")).access_token});return await(await fetch(c.SERVER_URL+"get-avaible-genre-seeds",{method:"POST",body:t})).json()}async function N(t="es_ES",a="ES",s=new Date().toISOString()){o.value=!0;let r=new URLSearchParams({locale:t,country:a,timestamp:s,token:n.access_token||JSON.parse(sessionStorage.getItem("tokens")).access_token});const i=await(await fetch(c.SERVER_URL+"get-featured-playlists",{method:"POST",body:r})).json();return o.value=!1,i}async function V(t=20){o.value=!0;let a=new URLSearchParams({limit:t,token:n.access_token||JSON.parse(sessionStorage.getItem("tokens")).access_token});const r=await(await fetch(c.SERVER_URL+"get-new-releases",{method:"POST",body:a})).json();return o.value=!1,r}async function J(){y.value=await R("tracks","short_term"),f.value=await b(),k.value=await R("artists","short_term","20"),g.value=await V(),_.value=await N(),m.value=await P(),p.value=await T(),d.value=await j(),v.value=!0}function A(){n.value=E(),y.value=e([]),k.value=e([]),m.value=e([]),p.value=e([]),o.value=e(!0),l.value=e({}),w.value=e({}),h.value=e(""),f.value=e([]),d.value=e([])}return{userTopContent:y,userPlaylists:m,userProfile:p,userTopArtists:k,founditems:l,currentItemPlaying:w,searchFilters:h,recentlyPlayed:f,avaibleGenreSeeds:d,newReleases:g,featuredPlaylists:_,inited:v,searchItem:I,getUserPlaylists:P,getUserTopContent:R,getUserAvaibleDevices:L,transferUserPlayBack:O,initStoreValues:J,getRecentlyPlayedTracks:b,$reset:A}});export{G as u};
